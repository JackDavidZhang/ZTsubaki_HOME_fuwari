---
title: 图论算法四：图的存储与遍历
published: 2025-04-30
description: 图论算法系列第四篇，讲解图基本知识的存储方式
tags: [图论,算法,图]
category: 技术
draft: false
---

## 1. 图

图是一个二元组$G=<V,E>$，其中，$V$是一个由点组成的集合，$\lvert V\rvert$称为该图的阶数，$E$是一个由来自$V$中的元素组成的二元组构成的集合，若该二元组有序，则称该图为有序图，反之称为无序图

### 1.1. 常用概念

- 度：与节点相连的边数，对于有向图，还可以区分出度和入度

  显然，所有节点度数之和等于边数的两倍

- 连通性：如果一个图中任意两个节点之间有至少一条路径相连，则我们称该图为**连通图**，对于连通的有向图，如果对于任意两个节点间都有至少两条不同方向的路径连接，则我们称该图为**强连通图**。如果某个图的某块区域符合连通图/强联通图的定义，则我们称该区域为该图的**连通/强联通分量**

  强连通图/强连通分量又叫双连通图/双连通分量

- 割点、割边：如果一个图是连通图，而去掉某一点/某一边后该图不再连通，则称该点/边为该图的**割点/割边**（又称**桥**），割边两端一定是割点，割点附件不一定有割边
- 子图，生成子图，生成树：挑选一个图中的一些边和点组成的新图称为该图的**子图**，由该图的所有节点和一些边组成的子图称为**生成子图**，有向无环连通的生成子图称为**生成树**

- 自环，重边：两边都是同一节点的边称作**自环**，完全相同的两条边称作**重边**，后文提到的算法一般来说，不考虑这两种情况，如有需特判
- 环：一条首尾相接的路径称为**环**，其中，边权之和为负数的环对最短路径之类的问题是致命的，需要额外判断

## 2.图的存储

### 2.1 邻接矩阵

对于$n$阶的矩阵，使用一个$n\times n$的二维数组`G`存储图，其中，`G[i][j]`表示节点`i`到`j`有一条权值为`G[i][j]`的边

邻接矩阵是最简单的存储方式，可以快速查询两个点之间的边，但是会消耗大量存储空间，也无法快速查询某个点相邻的所有边

### 2.2. 边集数组

对于$m$条边的图，可以使用一个结构体数组存储所有边的信息，称作边集数组

这种存法不便于查询，很少使用，但在某些特定问题（如最小生成树）中比较好用，通常作为其他方式的辅助使用

### 2.3. 邻接表/链式前向星

使用一个合适的数据结构存储存储与一个节点相邻的所有边，并保存相关信息，这样的方式称作邻接表。

邻接表通常使用定长数组，可变数组`vector`或者链表`list`存储与节点相邻的边，不过定长数组会浪费很多空间，`vector`对于比较大的数据规模可能表现不佳，链表是最好的选择。

当链表与边集数组结合，我们可以仅保留一个记录与节点相邻的第一条边编号的数组`head[]`，而对边集数组中的每条边，保存与其相邻的边的编号，也可以理解成链表中的`next`，也类似于二叉树的链式存储，这样的方式称为链式前向星

链式前向星和用链表存储的邻接表实际上没有本质区别，实际使用中不会也没必要特意区分这些概念

链式前向星可以快速查找一个点的所有边，符合大多数算法的需求，是最常用的存储方式
